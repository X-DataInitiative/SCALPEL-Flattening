default = {

  output_path = "src/test/resources/flattening/parquet_table/"

  schema_file_path = [
    "src/test/resources/flattening/schema/DCIR_schema.csv"
  ]

  tables_config = [
    {
      name = "IR_BEN_R"
      date_format = "dd/MM/yyyy"

      input_paths = [
        "src/test/resources/flattening/csv-table/IR_BEN_R.csv"
      ]
      output {
        key = "1"
        partion_column = "NUM_ENQ"
      }
    }
  ]

  join = [
    {
      name = "DCIR1"
      yearPartitionCol = ""
      monthPartitionCol = ""



      main_table = {
        path = "src/test/resources/flattening/join/inputCentralTable"
        name = "central"
        primaryKey = ["PatientID"]
      }

      tablesToJoin = [
        {
          name = "input1"
          path = "src/test/resources/Flattening/join/inputTableToJoin/1"
          foreignKeys = ["PatientID"]
        },
        {
          name = "input2"
          path = "src/test/resources/flattening/join/inputTableToJoin/2"
          foreignKeys = ["PatientID"]
        }
      ]

      outputPath = "src/test/resources/flattening/join/"
    },
    {
      name = "DCIR2"
      yearPartitionCol = ""
      monthPartitionCol = ""


      main_table = {
        path = "src/test/resources/flattening/join/inputCentralTable"
        name = "central"
        primaryKey = ["PatientID"]
      }

      tablesToJoin = [
        {
          name = "input1"
          path = "src/test/resources/Flattening/join/inputTableToJoin/1"
          foreignKeys = ["PatientID"]
        },
        {
          name = "input2"
          path = "src/test/resources/flattening/join/inputTableToJoin/2"
          foreignKeys = ["PatientID"]
        }
      ]
      outputPath = "src/test/resources/flattening/join/"
    }

  ]
}

test = ${default}