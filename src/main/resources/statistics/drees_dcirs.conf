describe_old = false

# old_flat tables are only used when describing old flat data

schema_file_path = [
  "schema/drees_dcirs/DCIRS_schema.csv"
  "schema/drees_dcirs/DCIR_DCIRS_schema.csv"
  "schema/drees_dcirs/CARTOGRAPHIE_PATHOLOGIES_schema.csv"
  "schema/drees_dcirs/MCO_schema.csv"
  "schema/drees_dcirs/SSR_schema.csv"
]

new_flat = [
  {
    name = "DCIR"
    central_table = "ER_PRS_F"
    join_keys = [
      //"BEN_IDT_TOP", "BEN_RES_DPT",
      //"CAI_AFF_COD", "CAI_LIQ_COD",
      "CLE_DCI_JNT"//,
      //"ETB_EXE_FIN", "ETB_PRE_FIN", "ETE_DPT_COD", "ETP_DPT_COD", "EXE_INS_DPT",
      //"EXE_SOI_AMD", "EXE_SOI_AMF", "EXE_SOI_DTD", "EXE_SOI_DTF",
      //"FLX_DIS_DTD", "FLX_EMT_TYP", "FLX_TRT_DTD",
      //"GRG_AFF_COD", "GRG_LIQ_COD",
      //"NUM_ENQ",
      //"PFS_EXE_NUM", "PFS_PRE_NUM",
      //"PRE_INS_DPT", "PRS_NAT_REF",
      //"RGO_REM_TAU", "SLM_AFF_COD"
    ]

    input_path = "/home/commun/echange/flattening_dcirs/flat_table/DCIR"
    output_stat_path = "/home/commun/echange/flattening_dcirs/statistics/descriptive/DCIR"
    single_tables = [
      {
        name = "ER_CAM_F"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/ER_CAM_F"
      }
      {
        name = "ER_PHA_F"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/ER_PHA_F"
      }
      {
        name = "ER_BIO_F"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/ER_BIO_F"
      }
      {
        name = "ER_UCD_F"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/ER_UCD_F"
      }
      {
        name = "ER_PRS_F"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/ER_PRS_F"
      }
    ]
  }
  {
    name = "MCO"
    central_table = "MCO_C"
    join_keys = ["ETA_NUM", "RSA_NUM"]
    input_path = "/home/commun/echange/flattening_dcirs/flat_table/MCO"
    output_stat_path = "/home/commun/echange/flattening_dcirs/statistics/descriptive/MCO"
    single_tables = [
      {
        name = "MCO_A"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/MCO_A"
      }
      {
        name = "MCO_B"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/MCO_B"
      }
      {
        name = "MCO_C"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/MCO_C"
      }
      {
        name = "MCO_D"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/MCO_D"
      }
      {
        name = "MCO_UM"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/MCO_UM"
      }
    ]
  }
  {
    name = "MCO_CE"
    central_table = "MCO_CSTC"
    join_keys = ["ETA_NUM", "SEQ_NUM"]
    input_path = "/home/commun/echange/flattening_dcirs/flat_table/MCO_CE"
    output_stat_path = "/home/commun/echange/flattening_dcirs/statistics/descriptive/MCO_CE"
    single_tables = [
      {
        name = "MCO_CSTC"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/MCO_CSTC"
      }
      {
        name = "MCO_FMSTC"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/MCO_FMSTC"
      }
      {
        name = "MCO_FASTC"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/MCO_FASTC"
      }
    ]
  }
  {
    name = "SSR"
    central_table = "SSR_C"
    join_keys = ["ETA_NUM", "SEQ_NUM"]
    input_path = "/home/commun/echange/flattening_dcirs/flat_table/SSR"
    output_stat_path = "/home/commun/echange/flattening_dcirs/statistics/descriptive/SSR"
    single_tables = [
      {
        name = "SSR_C"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/SSR_C"
      }
      {
        name = "SSR_B"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/SSR_B"
      }
      {
        name = "SSR_D"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/SSR_D"
      }
      {
        name = "SSR_CCAM"
        input_path = "/home/commun/echange/flattening_dcirs/single_table/SSR_CCAM"
      }
    ]
  }
]