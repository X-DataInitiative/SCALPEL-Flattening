describe_old = false

# old_flat tables are only used when describing old flat data

schema_file_path = [
  "schema/drees_echantillon/DCIR_schema.csv"
  "schema/drees_echantillon/DCIR_DCIRS_schema.csv"
  "schema/drees_echantillon/CARTOGRAPHIE_PATHOLOGIES_schema.csv"
  "schema/drees_echantillon/MCO_schema.csv"
  "schema/drees_echantillon/SSR_schema.csv"
  "schema/drees_echantillon/HAD_schema.csv"
]

new_flat = [
  {
    name = "DCIR"
    central_table = "ER_PRS_F"
    join_keys = [
      "DCT_ORD_NUM"
      "FLX_DIS_DTD"
      "FLX_EMT_NUM"
      "FLX_EMT_ORD"
      "FLX_EMT_TYP"
      "FLX_TRT_DTD"
      "ORG_CLE_NUM"
      "PRS_ORD_NUM"
      "REM_TYP_AFF"
    ]
    input_path = "/home/commun/echange/flattening_echantillon/flat_table/DCIR"
    output_stat_path = "/home/commun/echange/flattening_echantillon/statistics/descriptive/DCIR"
    single_tables = [
      {
        name = "ER_CAM_F"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/ER_CAM_F"
      }
      {
        name = "ER_PHA_F"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/ER_PHA_F"
      }
      {
        name = "ER_BIO_F"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/ER_BIO_F"
      }
      {
        name = "ER_ETE_F"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/ER_ETE_F"
      }
      {
        name = "ER_UCD_F"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/ER_UCD_F"
      }
      {
        name = "ER_TIP_F"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/ER_TIP_F"
      }
      {
        name = "ER_PRS_F"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/ER_PRS_F"
      }
    ]
  }
  {
    name = "MCO"
    central_table = "MCO_C"
    join_keys = ["ETA_NUM", "RSA_NUM"]
    input_path = "/home/commun/echange/flattening_echantillon/flat_table/MCO"
    output_stat_path = "/home/commun/echange/flattening_echantillon/statistics/descriptive/MCO"
    single_tables = [
      {
        name = "MCO_A"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/MCO_A"
      }
      {
        name = "MCO_B"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/MCO_B"
      }
      {
        name = "MCO_C"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/MCO_C"
      }
      {
        name = "MCO_D"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/MCO_D"
      }
      {
        name = "MCO_UM"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/MCO_UM"
      }
    ]
  }
  {
    name = "MCO_CE"
    central_table = "MCO_CSTC"
    join_keys = ["ETA_NUM", "SEQ_NUM"]
    input_path = "/home/commun/echange/flattening_echantillon/flat_table/MCO_CE"
    output_stat_path = "/home/commun/echange/flattening_echantillon/statistics/descriptive/MCO_CE"
    single_tables = [
      {
        name = "MCO_CSTC"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/MCO_CSTC"
      }
      {
        name = "MCO_FMSTC"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/MCO_FMSTC"
      }
      {
        name = "MCO_FASTC"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/MCO_FASTC"
      }
    ]
  }
  {
    name = "SSR"
    central_table = "SSR_C"
    join_keys = ["ETA_NUM", "RHA_NUM"]
    input_path = "/home/commun/echange/flattening_echantillon/flat_table/SSR"
    output_stat_path = "/home/commun/echange/flattening_echantillon/statistics/descriptive/SSR"
    single_tables = [
      {
        name = "SSR_C"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/SSR_C"
      }
      {
        name = "SSR_B"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/SSR_B"
      }
      {
        name = "SSR_D"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/SSR_D"
      }
      {
        name = "SSR_CCAM"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/SSR_CCAM"
      }
    ]
  }
  {
    name = "SSR_CE"
    central_table = "SSR_CSTC"
    join_keys = ["ETA_NUM", "SEQ_NUM"]
    input_path = "/home/commun/echange/flattening_echantillon/flat_table/SSR_CE"
    output_stat_path = "/home/commun/echange/flattening_echantillon/statistics/descriptive/SSR_CE"
    single_tables = [
      {
        name = "SSR_CSTC"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/SSR_CSTC"
      }
      {
        name = "SSR_FMSTC"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/SSR_FMSTC"
      }
      {
        name = "SSR_FASTC"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/SSR_FASTC"
      }
    ]
  }
  {
    name = "HAD"
    central_table = "HAD_C"
    join_keys = ["ETA_NUM_EPMSI", "RHAD_NUM"]
    input_path = "/home/commun/echange/flattening_echantillon/flat_table/HAD"
    output_stat_path = "/home/commun/echange/flattening_echantillon/statistics/descriptive/HAD"
    single_tables = [
      {
        name = "HAD_C"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/HAD_C"
      }
      {
        name = "HAD_B"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/HAD_B"
      }
      {
        name = "HAD_D"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/HAD_D"
      }
      {
        name = "HAD_A"
        input_path = "/home/commun/echange/flattening_echantillon/single_table/HAD_A"
      }
    ]
  }
]